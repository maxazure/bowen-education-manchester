<!--
  Main Column Hero Component
  Used for main columns (school, chess, badminton, programmes, events, contact)
  Supports reading configuration from column object, including bilingual titles, taglines, CTA buttons, etc.
  Does not include statistics bar
-->

{# Get Hero configuration for English pages #}
{# For English version: Use name_en/hero_title_en as main title, hide Chinese title #}
{% set h_title = hero_title or (column.hero_title_en if column.hero_title_en else (column.name_en if column.name_en else column.name)) %}
{% set h_title_en = hero_title_en or None %}  {# Don't show Chinese as subtitle in English version #}
{% set h_tagline = hero_tagline or (column.hero_tagline_en or column.hero_tagline) %}  {# Use English tagline with fallback #}
{% set h_cta_text = hero_cta_text or None %}  {# Hide Chinese CTA in English version #}
{% set h_cta_url = hero_cta_url or column.hero_cta_url %}

{# Background image priority: explicitly passed hero_image > column.hero_media > default image #}
{% if not hero_image %}
    {% if column.hero_media %}
        {% set hero_image = column.hero_media.path_original %}
    {% else %}
        {% set hero_image = '/static/images/hero-default.jpg' %}
    {% endif %}
{% endif %}

<section class="hero hero--main-column" aria-labelledby="main-column-title">
    <div class="hero__overlay" aria-hidden="true"></div>
    <div class="hero__background"
         role="img"
         aria-label="{{ h_title }}"
         style="background-image: url('{{ hero_image }}');"></div>
    <div class="container">
        <div class="hero__content">
            <h1 id="main-column-title" class="hero__title" data-aos="fade-up">
                <span class="hero__title-main">{{ h_title }}</span>
                {% if h_title_en %}
                <span class="hero__title-sub">{{ h_title_en }}</span>
                {% endif %}
            </h1>
            {% if h_tagline %}
            <p class="hero__tagline" data-aos="fade-up" data-aos-delay="100">
                {{ h_tagline }}
            </p>
            {% endif %}
            {% if h_cta_text and h_cta_url %}
            <div class="hero__actions" data-aos="fade-up" data-aos-delay="200">
                <a href="{{ h_cta_url }}" class="btn btn--hero-primary">
                    <i class="fas fa-arrow-right"></i>
                    <span>{{ h_cta_text }}</span>
                </a>
            </div>
            {% endif %}
        </div>
    </div>
</section>

<style>
/* ========================================
   Main Column Hero Component Styles
======================================== */
.hero--main-column {
    position: relative;
    min-height: 450px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    margin-bottom: 0;
}

.hero--main-column .hero__background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

.hero--main-column .hero__overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(0, 82, 204, 0.85) 0%, rgba(0, 51, 128, 0.75) 100%);
}

.hero--main-column .hero__content {
    position: relative;
    z-index: 2;
    text-align: center;
    color: white;
    padding: 4rem 1rem;
    max-width: 900px;
    margin: 0 auto;
}

.hero--main-column .hero__title {
    margin-bottom: 1rem;
}

.hero--main-column .hero__title-main {
    display: block;
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
    letter-spacing: 0.02em;
    line-height: 1.2;
}

.hero--main-column .hero__title-sub {
    display: block;
    font-size: 2rem;
    font-weight: 600;
    opacity: 0.95;
    text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.2);
    line-height: 1.3;
}

.hero--main-column .hero__tagline {
    font-size: 1.5rem;
    font-weight: 500;
    margin-bottom: 2rem;
    opacity: 0.95;
    line-height: 1.4;
}

.hero--main-column .hero__actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.hero--main-column .btn--hero-primary {
    display: inline-flex;
    align-items: center;
    gap: 0.625rem;
    padding: 1rem 2.5rem;
    font-size: 1.125rem;
    font-weight: 600;
    background: white;
    color: #0052cc;
    border: 2px solid white;
    border-radius: 0.5rem;
    text-decoration: none;
    transition: all 0.3s ease;
}

.hero--main-column .btn--hero-primary:hover {
    background: #f7fafc;
    transform: translateY(-3px);
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.3);
}

/* Responsive Design */
@media (max-width: 992px) {
    .hero--main-column {
        min-height: 400px;
    }

    .hero--main-column .hero__title-main {
        font-size: 2.75rem;
    }

    .hero--main-column .hero__title-sub {
        font-size: 1.625rem;
    }

    .hero--main-column .hero__tagline {
        font-size: 1.25rem;
    }
}

@media (max-width: 768px) {
    .hero--main-column {
        min-height: 350px;
    }

    .hero--main-column .hero__content {
        padding: 3rem 1rem;
    }

    .hero--main-column .hero__title-main {
        font-size: 2.25rem;
    }

    .hero--main-column .hero__title-sub {
        font-size: 1.375rem;
    }

    .hero--main-column .hero__tagline {
        font-size: 1.125rem;
    }

    .hero--main-column .hero__actions {
        flex-direction: column;
        align-items: stretch;
    }

    .hero--main-column .btn--hero-primary {
        width: 100%;
        justify-content: center;
    }
}

@media (max-width: 576px) {
    .hero--main-column {
        min-height: 300px;
    }

    .hero--main-column .hero__content {
        padding: 2rem 1rem;
    }

    .hero--main-column .hero__title-main {
        font-size: 1.875rem;
    }

    .hero--main-column .hero__title-sub {
        font-size: 1.125rem;
    }

    .hero--main-column .hero__tagline {
        font-size: 1rem;
    }
}
</style>
